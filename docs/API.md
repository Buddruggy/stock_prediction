# æ™ºæŠ•é¢„æµ‹ - APIæ–‡æ¡£

## ğŸ“š APIæ¥å£è¯´æ˜

### åŸºç¡€ä¿¡æ¯

- **åŸºç¡€URL**: `http://localhost:9000`
- **å“åº”æ ¼å¼**: JSON
- **ç¼–ç **: UTF-8

### ğŸ” çŠ¶æ€æ¥å£

#### GET /api/status

è·å–æœåŠ¡çŠ¶æ€ä¿¡æ¯

**å“åº”ç¤ºä¾‹:**
```json
{
  "status": "running",
  "ml_available": true,
  "supported_indices": 4,
  "timestamp": "2025-01-01T12:00:00.000000",
  "cache_duration": 300
}
```

### ğŸ“Š æŒ‡æ•°æ¥å£

#### GET /api/indices

è·å–æ”¯æŒçš„è‚¡ç¥¨æŒ‡æ•°åˆ—è¡¨

**å“åº”ç¤ºä¾‹:**
```json
{
  "sh000001": {
    "name": "ä¸Šè¯ç»¼åˆæŒ‡æ•°",
    "symbol": "000001.SS",
    "code": "SH000001"
  },
  "sz399001": {
    "name": "æ·±è¯æˆåˆ†æŒ‡æ•°", 
    "symbol": "399001.SZ",
    "code": "SZ399001"
  }
}
```

### ğŸ¤– é¢„æµ‹æ¥å£

#### GET /api/predict/{index_code}

è·å–æŒ‡å®šæŒ‡æ•°çš„é¢„æµ‹æ•°æ®

**å‚æ•°:**
- `index_code`: æŒ‡æ•°ä»£ç  (sh000001, sz399001, sz399006, sh000688)

**å“åº”ç¤ºä¾‹:**
```json
{
  "code": "sh000001",
  "name": "ä¸Šè¯ç»¼åˆæŒ‡æ•°",
  "symbol": "SH000001",
  "current": 3245.67,
  "change": 12.34,
  "changePercent": 0.38,
  "predicted": 3268.45,
  "predictedChange": 22.78,
  "predictedPercent": 0.70,
  "confidence": 78.0,
  "timestamp": "2025-01-01T12:00:00.000000"
}
```

#### GET /api/predict/all

è·å–æ‰€æœ‰æŒ‡æ•°çš„é¢„æµ‹æ•°æ®

**å“åº”ç¤ºä¾‹:**
```json
{
  "sh000001": {
    "code": "sh000001",
    "name": "ä¸Šè¯ç»¼åˆæŒ‡æ•°",
    "current": 3245.67,
    "predicted": 3268.45,
    "confidence": 78.0
  },
  "sz399001": {
    ...
  }
}
```

### ğŸ“ˆ å†å²æ•°æ®æ¥å£

#### GET /api/history/{index_code}

è·å–æŒ‡å®šæŒ‡æ•°çš„å†å²æ•°æ®

**å‚æ•°:**
- `index_code`: æŒ‡æ•°ä»£ç 
- `period`: æ—¶é—´å‘¨æœŸ (1d, 5d, 1mo, 3mo, 6mo, 1y, 2y, 5y, 10y, ytd, max)

**ç¤ºä¾‹:** `/api/history/sh000001?period=1mo`

**å“åº”ç¤ºä¾‹:**
```json
{
  "code": "sh000001",
  "name": "ä¸Šè¯ç»¼åˆæŒ‡æ•°",
  "history": [
    {
      "date": "2025-01-01",
      "open": 3240.12,
      "high": 3250.45,
      "low": 3235.67,
      "close": 3245.67,
      "volume": 123456789
    }
  ]
}
```

### âŒ é”™è¯¯å“åº”

æ‰€æœ‰é”™è¯¯å“åº”éƒ½åŒ…å«é”™è¯¯ä¿¡æ¯ï¼š

```json
{
  "error": "é”™è¯¯æè¿°ä¿¡æ¯"
}
```

**å¸¸è§çŠ¶æ€ç :**
- `200`: æˆåŠŸ
- `400`: è¯·æ±‚å‚æ•°é”™è¯¯
- `404`: èµ„æºä¸å­˜åœ¨
- `500`: æœåŠ¡å™¨å†…éƒ¨é”™è¯¯

### ğŸ”’ ä½¿ç”¨é™åˆ¶

- è¯·æ±‚é¢‘ç‡é™åˆ¶: 100æ¬¡/å°æ—¶
- å•æ¬¡è¯·æ±‚è¶…æ—¶: 30ç§’
- æ•°æ®æ›´æ–°é¢‘ç‡: 5åˆ†é’Ÿ

### ğŸ’¡ ä½¿ç”¨å»ºè®®

1. å»ºè®®åœ¨ç”Ÿäº§ç¯å¢ƒä¸­å®ç°è¯·æ±‚ç¼“å­˜
2. å¤„ç†ç½‘ç»œè¶…æ—¶å’Œé”™è¯¯æƒ…å†µ
3. é¢„æµ‹ç»“æœä»…ä¾›å‚è€ƒï¼Œä¸æ„æˆæŠ•èµ„å»ºè®®
